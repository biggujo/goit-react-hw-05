"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[969],{790:function(e,n,t){t.d(n,{Z:function(){return u}});t(2791);var r=t(184);function u(e){var n=e.error;return(0,r.jsxs)("p",{children:["An error happened: ",n]})}},3929:function(e,n,t){t.d(n,{z:function(){return a}});var r,u=t(168),a=(0,t(7686).Z)("li")(r||(r=(0,u.Z)(["\n  padding-block: 5px;\n"])))},61:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var r=t(7689),u=t(1087),a=t(184);function i(e){var n=e.id,t=e.name,i=(0,r.TH)();return(0,a.jsx)(u.rU,{to:"/movies/".concat(n),state:{from:i},children:t})}var o=t(3929);function c(e){var n=e.movies;return(0,a.jsx)("ul",{children:n.map((function(e){var n=e.id,t=e.name,r=e.title;return(0,a.jsx)(o.z,{children:(0,a.jsx)(i,{id:n,name:void 0===t?r:t})},n)}))})}},969:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(5861),u=t(9439),a=t(4687),i=t.n(a),o=t(2791),c=t(1087),s=t(1686),l=t(184);function v(){var e,n=(0,o.useState)(""),t=(0,u.Z)(n,2),r=t[0],a=t[1],i=(0,c.lr)(),s=(0,u.Z)(i,2),v=s[0],f=s[1],d=null!==(e=v.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){a(d)}),[d]);return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements.query.value;""!==n.trim()?f({query:n}):f({})},children:[(0,l.jsx)("input",{type:"text",name:"query",value:r,onChange:function(e){return n=e.target.value,void a(n);var n}}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})}var f=t(7617),d=t(790),p=t(61),h=t(9086),Z=t(2854),g="query";function y(){var e,n=(0,o.useState)(null),t=(0,u.Z)(n,2),a=t[0],y=t[1],m=(0,o.useState)(Z.q.IDLE),x=(0,u.Z)(m,2),E=x[0],b=x[1],w=(0,o.useState)(null),j=(0,u.Z)(w,2),I=j[0],q=j[1],D=(0,c.lr)(),k=null!==(e=(0,u.Z)(D,1)[0].get(g))&&void 0!==e?e:"";return(0,o.useEffect)((function(){if(""!==k){var e=new AbortController,n=function(){var n=(0,r.Z)(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b(Z.q.PENDING),n.next=4,h.Z.fetchMoviesByQuery(k,e);case 4:t=n.sent,y(t.results),b(Z.q.RESOLVED),n.next=16;break;case 9:if(n.prev=9,n.t0=n.catch(0),"ERR_CANCELED"!==n.t0.code){n.next=13;break}return n.abrupt("return");case 13:s.Notify.failure("Fetch error. Code: ".concat(n.t0.request.status)),q(n.t0.request.status),b(Z.q.REJECTED);case 16:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e.abort()}}}),[k]),(0,l.jsxs)("div",{children:[(0,l.jsx)(v,{queryKey:g}),E===Z.q.PENDING&&(0,l.jsx)(f.Z,{}),E===Z.q.RESOLVED&&(0,l.jsx)(p.Z,{movies:a}),E===Z.q.REJECTED&&(0,l.jsx)(d.Z,{error:I})]})}},9086:function(e,n,t){var r=t(5861),u=t(4687),a=t.n(u),i=t(340);i.Z.defaults.baseURL="https://api.themoviedb.org/3",i.Z.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2NDdmZTU4ZWJkMjMzZDY5Y2VlN2RjYTQ2ZWYwOGFlNiIsInN1YiI6IjY0YWE4Yzk0M2UyZWM4MDEyZWUzOWM2OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JlMf1XMEtVXHat5MkCciJRlAPG65by9hu8CeaKn8o0o";var o=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},void 0!==n&&null!==n&&(t.signal=n.signal),e.next=4,i.Z.get("/trending/all/day",t);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,u,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"",t=o.length>1?o[1]:void 0,r={},void 0!==t&&null!==t&&(r.signal=t.signal),e.next=6,i.Z.get("/search/movie?query=".concat(n),r);case 6:return u=e.sent,e.abrupt("return",u.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,u,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"",t=o.length>1?o[1]:void 0,r={},void 0!==t&&null!==t&&(r.signal=t.signal),e.next=6,i.Z.get("/movie/".concat(n),r);case 6:return u=e.sent,e.abrupt("return",u.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,u,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"",t=o.length>1?o[1]:void 0,r={},void 0!==t&&null!==t&&(r.signal=t.signal),e.next=6,i.Z.get("/movie/".concat(n,"/credits"),r);case 6:return u=e.sent,e.abrupt("return",u.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r,u,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"",t=o.length>1?o[1]:void 0,r={},void 0!==t&&null!==t&&(r.signal=t.signal),e.next=6,i.Z.get("/movie/".concat(n,"/reviews"),r);case 6:return u=e.sent,e.abrupt("return",u.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f={fetchMoviesTrending:o,fetchMoviesByQuery:c,fetchMovieDetailsById:s,fetchMovieCreditsById:l,fetchMovieReviewsById:v};n.Z=f},2854:function(e,n,t){t.d(n,{q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}}}]);
//# sourceMappingURL=969.46706104.chunk.js.map