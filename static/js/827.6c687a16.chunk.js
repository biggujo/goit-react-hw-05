"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[827],{790:function(n,e,r){r.d(e,{Z:function(){return i}});r(2791);var t=r(184);function i(n){var e=n.error;return(0,t.jsxs)("p",{children:["An error happened: ",e]})}},3929:function(n,e,r){r.d(e,{z:function(){return a}});var t,i=r(168),a=(0,r(7686).Z)("li")(t||(t=(0,i.Z)(["\n  padding-block: 5px;\n"])))},4827:function(n,e,r){r.r(e),r.d(e,{default:function(){return J}});var t,i,a,s=r(5861),o=r(9439),c=r(4687),u=r.n(c),l=r(2791),d=r(7689),v=r(3061),p=r(1686),f=r(168),h=r(7686),x=(0,h.Z)("div")(t||(t=(0,f.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),g=(0,h.Z)("ul")(i||(i=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0;\n  padding: 0;\n\n  list-style: none;\n  gap: 10px;\n"]))),Z=r(1087),j=(0,h.Z)("div")(a||(a=(0,f.Z)(["\n  margin-block: 20px;\n  padding-block: 20px;\n\n  border-block: 1px solid #808080;\n"]))),m=r(3929),b=r(184);function w(){return(0,b.jsxs)(j,{children:[(0,b.jsx)("p",{children:"Additional information"}),(0,b.jsxs)("ul",{children:[(0,b.jsx)(m.z,{children:(0,b.jsx)(Z.rU,{to:"cast",children:"Cast"})}),(0,b.jsx)(m.z,{children:(0,b.jsx)(Z.rU,{to:"reviews",children:"Reviews"})})]})]})}var E=r(7617);function y(n){var e=n.info,r=e.title,t=e.name,i=e.release_date,a=e.poster_path,s=e.vote_average,o=e.overview,c=e.genres,u=i.slice(0,4);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(x,{children:[(0,b.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(a),alt:"Poster of ".concat(null!==r&&void 0!==r?r:t),width:"300"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[r," (",u,")"]}),(0,b.jsxs)("p",{children:["User Score: ",(10*s).toFixed(2),"%"]}),(0,b.jsx)("h3",{children:"Overview"}),(0,b.jsx)("p",{children:o}),(0,b.jsx)("h4",{children:"Genres"}),(0,b.jsx)(g,{children:c.map((function(n){var e=n.id,r=n.name;return(0,b.jsx)("li",{children:r},e)}))})]})]}),(0,b.jsx)(w,{}),(0,b.jsx)(l.Suspense,{fallback:(0,b.jsx)(E.Z,{}),children:(0,b.jsx)(d.j3,{})})]})}var k,I=r(790),D=(0,h.Z)(Z.rU)(k||(k=(0,f.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 3px;\n  margin-bottom: 12px;\n  padding: 7px;\n\n  color: initial;\n  border-radius: 7px;\n  border: 1px solid #808080;\n\n  text-decoration: none;\n\n  &:active {\n    color: #000000;\n    background-color: #f08080;\n  }\n\n  &:visited {\n    color: initial;\n  }\n\n  &:hover {\n    border: 1px solid #f08080;\n  }\n"]))),C=r(9086),M=r(2854);function J(){var n,e,r=(0,l.useState)(null),t=(0,o.Z)(r,2),i=t[0],a=t[1],c=(0,l.useState)(M.q.IDLE),f=(0,o.Z)(c,2),h=f[0],x=f[1],g=(0,l.useState)(null),Z=(0,o.Z)(g,2),j=Z[0],m=Z[1],w=(0,d.UO)().movieId,k=(0,d.TH)(),J=(0,l.useRef)(null!==(n=null===(e=k.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/movies");return(0,l.useEffect)((function(){var n=new AbortController,e=function(){var n=(0,s.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(M.q.PENDING),n.prev=1,n.next=4,C.Z.fetchMovieDetailsById(w);case 4:e=n.sent,a(e),x(M.q.RESOLVED),n.next=16;break;case 9:if(n.prev=9,n.t0=n.catch(1),"ERR_CANCELED"!==n.t0.code){n.next=13;break}return n.abrupt("return");case 13:p.Notify.failure("Fetch error. Code: ".concat(n.t0.request.status)),m(n.t0.request.status),x(M.q.REJECTED);case 16:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();return e(),function(){n.abort()}}),[w]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(D,{to:J.current,children:[(0,b.jsx)(v.UkU,{})," Go back"]}),h===M.q.PENDING&&(0,b.jsx)(E.Z,{}),h===M.q.RESOLVED&&(0,b.jsx)(y,{info:i}),h===M.q.REJECTED&&(0,b.jsx)(I.Z,{error:j})]})}},9086:function(n,e,r){var t=r(5861),i=r(4687),a=r.n(i),s=r(340);s.Z.defaults.baseURL="https://api.themoviedb.org/3",s.Z.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2NDdmZTU4ZWJkMjMzZDY5Y2VlN2RjYTQ2ZWYwOGFlNiIsInN1YiI6IjY0YWE4Yzk0M2UyZWM4MDEyZWUzOWM2OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JlMf1XMEtVXHat5MkCciJRlAPG65by9hu8CeaKn8o0o";var o=function(){var n=(0,t.Z)(a().mark((function n(e){var r,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},void 0!==e&&null!==e&&(r.signal=e.signal),n.next=4,s.Z.get("/trending/all/day",r);case 4:return t=n.sent,n.abrupt("return",t.data);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,t.Z)(a().mark((function n(){var e,r,t,i,o=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1?o[1]:void 0,t={},void 0!==r&&null!==r&&(t.signal=r.signal),n.next=6,s.Z.get("/search/movie?query=".concat(e),t);case 6:return i=n.sent,n.abrupt("return",i.data);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=(0,t.Z)(a().mark((function n(){var e,r,t,i,o=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1?o[1]:void 0,t={},void 0!==r&&null!==r&&(t.signal=r.signal),n.next=6,s.Z.get("/movie/".concat(e),t);case 6:return i=n.sent,n.abrupt("return",i.data);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(a().mark((function n(){var e,r,t,i,o=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1?o[1]:void 0,t={},void 0!==r&&null!==r&&(t.signal=r.signal),n.next=6,s.Z.get("/movie/".concat(e,"/credits"),t);case 6:return i=n.sent,n.abrupt("return",i.data);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,t.Z)(a().mark((function n(){var e,r,t,i,o=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1?o[1]:void 0,t={},void 0!==r&&null!==r&&(t.signal=r.signal),n.next=6,s.Z.get("/movie/".concat(e,"/reviews"),t);case 6:return i=n.sent,n.abrupt("return",i.data);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),v={fetchMoviesTrending:o,fetchMoviesByQuery:c,fetchMovieDetailsById:u,fetchMovieCreditsById:l,fetchMovieReviewsById:d};e.Z=v},2854:function(n,e,r){r.d(e,{q:function(){return t}});var t={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}}}]);
//# sourceMappingURL=827.6c687a16.chunk.js.map