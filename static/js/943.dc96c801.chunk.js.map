{"version":3,"file":"static/js/943.dc96c801.chunk.js","mappings":"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","sources":["components/ErrorFallback/ErrorFallback.jsx","components/ReviewsItem/ReviewsItem.jsx","components/ReviewsList/ReviewsList.jsx","utils/api.js","utils/status.js"],"sourcesContent":["import React from 'react';\n\nexport default function ErrorFallback({ error }) {\n  return (<p>An error happened: {error}</p>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function ReviewsItem({\n  reviewData: {\n    author,\n    content,\n  },\n}) {\n  return (<div>\n    <b>Author: {author}</b>\n    <p>{content}</p>\n  </div>);\n}\n\nReviewsItem.propTypes = {\n  reviewData: PropTypes.shape({\n    author: PropTypes.string.isRequired,\n    content: PropTypes.string.isRequired,\n  }),\n\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Notify } from 'notiflix';\nimport ReviewsItem from '../ReviewsItem/ReviewsItem';\nimport LoadingFallback from '../LoadingFallback/LoadingFallback';\nimport ErrorFallback from '../ErrorFallback/ErrorFallback';\nimport Api from '../../utils/api';\nimport { Status } from '../../utils/status';\n\nexport default function ReviewsList() {\n  const [reviewsList, setReviewsList] = useState(null);\n  const [isEmptyList, setIsEmptyList] = useState(false);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  // Fetch reviews from the back-end\n  useEffect(() => {\n    const controller = new AbortController();\n\n    const fetchReviews = async () => {\n      try {\n        setStatus(Status.PENDING);\n        const reviews = await Api.fetchMovieReviewsById(movieId, controller);\n\n        if (reviews.results.length === 0) {\n          setIsEmptyList(true);\n        }\n\n        setReviewsList(reviews.results);\n        setStatus(Status.RESOLVED);\n      } catch (e) {\n        if (e.code === 'ERR_CANCELED') {\n          return;\n        }\n\n        Notify.failure(`Fetch error. Code: ${e.request.status}`);\n        setError(e.request.status);\n        setStatus(Status.REJECTED);\n      }\n    };\n\n    fetchReviews();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (<div>\n    {status === Status.PENDING && <LoadingFallback />}\n    {status === Status.RESOLVED && isEmptyList &&\n      <p>We don't have any reviews for this movie.</p>}\n    {status === Status.RESOLVED && !isEmptyList &&\n      <ul>{reviewsList.map((reviewData) => <li\n        key={reviewData.id}>\n        <ReviewsItem reviewData={reviewData} />\n      </li>)}</ul>}\n    {status === Status.REJECTED && <ErrorFallback error={error} />}\n  </div>);\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.headers.common['Authorization'] = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2NDdmZTU4ZWJkMjMzZDY5Y2VlN2RjYTQ2ZWYwOGFlNiIsInN1YiI6IjY0YWE4Yzk0M2UyZWM4MDEyZWUzOWM2OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JlMf1XMEtVXHat5MkCciJRlAPG65by9hu8CeaKn8o0o';\n\nconst fetchMoviesTrending = async (abortController) => {\n  const settings = {};\n\n  if (abortController !== undefined && abortController !== null) {\n    settings.signal = abortController.signal;\n  }\n\n  const response = await axios.get('/trending/all/day', settings);\n\n  return response.data;\n};\n\nconst fetchMoviesByQuery = async (query = '', abortController) => {\n  const settings = {};\n\n  if (abortController !== undefined && abortController !== null) {\n    settings.signal = abortController.signal;\n  }\n\n  const response = await axios.get(`/search/movie?query=${query}`, settings);\n\n  return response.data;\n};\n\nconst fetchMovieDetailsById = async (id = '', abortController) => {\n  const settings = {};\n\n  if (abortController !== undefined && abortController !== null) {\n    settings.signal = abortController.signal;\n  }\n\n  const response = await axios.get(`/movie/${id}`, settings);\n\n  return response.data;\n};\n\nconst fetchMovieCreditsById = async (id = '', abortController) => {\n  const settings = {};\n\n  if (abortController !== undefined && abortController !== null) {\n    settings.signal = abortController.signal;\n  }\n\n  const response = await axios.get(`/movie/${id}/credits`, settings);\n\n  return response.data;\n};\n\nconst fetchMovieReviewsById = async (id = '', abortController) => {\n  const settings = {};\n\n  if (abortController !== undefined && abortController !== null) {\n    settings.signal = abortController.signal;\n  }\n\n  const response = await axios.get(`/movie/${id}/reviews`, settings);\n\n  return response.data;\n};\n\nconst api = {\n  fetchMoviesTrending,\n  fetchMoviesByQuery,\n  fetchMovieDetailsById,\n  fetchMovieCreditsById,\n  fetchMovieReviewsById,\n};\n\nexport default api;\n","export const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n"],"names":["ErrorFallback","_ref","error","_jsxs","children","ReviewsItem","_ref$reviewData","reviewData","author","content","_jsx","ReviewsList","_useState","useState","_useState2","_slicedToArray","reviewsList","setReviewsList","_useState3","_useState4","isEmptyList","setIsEmptyList","_useState5","Status","_useState6","status","setStatus","_useState7","_useState8","setError","movieId","useParams","useEffect","controller","AbortController","fetchReviews","_asyncToGenerator","_regeneratorRuntime","_callee","reviews","_context","prev","next","Api","sent","results","length","t0","code","abrupt","Notify","concat","request","stop","apply","arguments","abort","LoadingFallback","map","id","axios","fetchMoviesTrending","abortController","settings","response","undefined","signal","data","_x","fetchMoviesByQuery","_ref2","_callee2","query","_args2","_context2","fetchMovieDetailsById","_ref3","_callee3","_args3","_context3","fetchMovieCreditsById","_ref4","_callee4","_args4","_context4","fetchMovieReviewsById","_ref5","_callee5","_args5","_context5","api","IDLE","PENDING","RESOLVED","REJECTED"],"sourceRoot":""}